<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Document</title>
    <link href="http://apps.bdimg.com/libs/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet">
    <script src="http://apps.bdimg.com/libs/jquery/2.0.0/jquery.min.js"></script>
    <script src="http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"></script>
</head>
<body>
    <div id="container">
		<nav class="navbar navbar-default" role="navigation">
		   <div class="navbar-header">
		      <button type="button" class="navbar-toggle" data-toggle="collapse" 
		         data-target="#example-navbar-collapse">
		         <span class="sr-only">切换导航</span>
		         <span class="icon-bar"></span>
		         <span class="icon-bar"></span>
		         <span class="icon-bar"></span>
		      </button>
		      <a class="navbar-brand" href="#">W3Cschool</a>
		   </div>
		   <div class="collapse navbar-collapse" id="example-navbar-collapse">
		      <ul class="nav navbar-nav">
		         <li class="active"><a href="#">iOS</a></li>
		         <li><a href="#">SVN</a></li>
		         <li class="dropdown">
		            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
		               Java <b class="caret"></b>
		            </a>
		            <ul class="dropdown-menu">
		               <li><a href="#">jmeter</a></li>
		               <li><a href="#">EJB</a></li>
		               <li><a href="#">Jasper Report</a></li>
		               <li class="divider"></li>
		               <li><a href="#">分离的链接</a></li>
		               <li class="divider"></li>
		               <li><a href="#">另一个分离的链接</a></li>
		            </ul>
		         </li>
		      </ul>
		   </div>
		</nav>

		<div class="row" id="content">
			
		</div>

    </div>

	<script type="text/javascript">

		var CR = {
			config : {
				restApiHost : 'http://localhost:3005/',
				webSocketHost : 'http://localhost:3004'
			},
			user : {
				// id : 0,
				name : '',
				state : false
			},
			restApi : {
				loginState : {
					method : 'GET',
					uri : 'login'
				},
				userList : {
					method : "GET",
					uri : 'users'
				},
			},
		}



		$(function() {

		    if (window["WebSocket"]) {

		        conn = new WebSocket("ws://" + CR.config.webSocketHost + "/chat");
		        conn.onclose = function (evt) {
		            $("#content").append(($("<div><b>Connection closed.</b></div>"));
		        };
		        conn.onmessage = function (evt) {
		            $("#content").append(($("<div><div/>").text(evt.data));
		        };
		    } else {
		    	document.write("Your browser does not support WebSockets")
		    }
		});

	</script>



</body>
</html>